"use strict";console.log("Hello World from main.js! \nChange this message, and make sure it changes in the browser \nto verify optionB you're working in the right files.");var optionA=document.querySelector(".containerA"),optionB=document.querySelector(".containerB"),optionACount=document.querySelector(".optionACount"),optionBCount=document.querySelector(".optionBCount"),resetBttn=document.querySelector(".reset"),voteBalance=document.querySelector(".prog"),urlA="http://circuslabs.net:3000/data/optionA",urlB="http://circuslabs.net:3000/data/optionB",curentACount=0,curentBCount=0;optionA.addEventListener("click",function(){axios.post(urlA,{type:"number",action:"++"}).then(function(t){updateVoteCount(),console.log(t.data.data.value),console.log(t)})}),optionB.addEventListener("click",function(){axios.post(urlB,{type:"number",action:"++"}).then(function(t){updateVoteCount()})});var updateVoteCount=function(){axios.get(urlA).then(function(t){curentACount=t.data.data.value,optionACount.innerText=curentACount,updateBars()}).catch(function(t){console.warn("axios encountered an error!",t)}),axios.get(urlB).then(function(t){curentBCount=t.data.data.value,optionBCount.innerText=curentBCount,updateBars()}).catch(function(t){console.warn("axios encountered an error!",t)})};setInterval(updateVoteCount,1e3),resetBttn.addEventListener("click",function(){axios.post(urlA,{type:"number",action:"=",value:0}).then(function(t){updateVoteCount()}),axios.post(urlB,{type:"number",action:"=",value:0}).then(function(t){updateVoteCount()})}),window.addEventListener("keyup",function(){"KeyR"===event.code&&(axios.post(urlA,{type:"number",action:"=",value:0}).then(function(t){updateVoteCount()}),axios.post(urlB,{type:"number",action:"=",value:0}).then(function(t){updateVoteCount()}))});var updateBars=function(){voteBalance.style.width=curentACount/(curentBCount+curentACount)*100+"%",curentACount===curentBCount&&(voteBalance.style.width="50%")},optionAHover=document.querySelectorAll("[on-hoverA-switch-img-to]"),goToPageA=function(t){var e=document.querySelector(".active");e.classList.remove("active"),e.classList.add("leaving"),setTimeout(function(){e.classList.remove("leaving")},500);var o=document.querySelector("#"+t);setTimeout(function(){o.classList.add("entering")},250),setTimeout(function(){o.classList.remove("entering"),o.classList.add("active")},750)};optionAHover.forEach(function(t){t.addEventListener("click",function(){var t=this.getAttribute("on-hoverA-switch-img-to");goToPageA(t)})});var optionBHover=document.querySelectorAll("[on-hoverB-switch-img-to]"),goToPageB=function(t){var e=document.querySelector(".pageB.active");e.classList.remove("active"),e.classList.add("leaving"),setTimeout(function(){e.classList.remove("leaving")},500);var o=document.querySelector("#"+t);setTimeout(function(){o.classList.add("entering")},250),setTimeout(function(){o.classList.remove("entering"),o.classList.add("active")},750)};optionBHover.forEach(function(t){t.addEventListener("click",function(){var t=this.getAttribute("on-hoverB-switch-img-to");goToPageB(t)})});
//# sourceMappingURL=main.js.map