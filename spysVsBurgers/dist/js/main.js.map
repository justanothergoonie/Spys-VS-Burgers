{"version":3,"sources":["../../src/js/main.js"],"names":["console","log","optionA","document","querySelector","optionB","optionACount","optionBCount","resetBttn","voteBalance","urlA","urlB","curentACount","curentBCount","addEventListener","axios","post","type","action","then","response","updateVoteCount","data","value","get","innerText","updateBars","catch","error","warn","setInterval","window","event","code","style","width","optionAHover","querySelectorAll","goToPageA","id","oldPage","classList","remove","add","setTimeout","newPage","forEach","button","this","getAttribute","optionBHover","goToPageB"],"mappings":"aAAAA,QAAQC,IAAR,mJAIA,IAAIC,QAAUC,SAASC,cAAc,eACjCC,QAAUF,SAASC,cAAc,eACjCE,aAAeH,SAASC,cAAc,iBACtCG,aAAeJ,SAASC,cAAc,iBACtCI,UAAYL,SAASC,cAAc,UACnCK,YAAcN,SAASC,cAAc,SACrCM,KAAO,0CACPC,KAAO,0CAEPC,aAAe,EACfC,aAAe,EAInBX,QAAQY,iBAAiB,QAAS,WACjCC,MAAMC,KAAKN,MACTO,KAAM,SACNC,OAAQ,OAETC,KAAK,SAAAC,GACLC,kBACArB,QAAQC,IAAImB,EAASE,KAAKA,KAAKC,OAC/BvB,QAAQC,IAAImB,OAUdf,QAAQS,iBAAiB,QAAS,WACjCC,MAAMC,KAAKL,MACTM,KAAM,SACNC,OAAQ,OAETC,KAAK,SAAAC,GACLC,sBAUF,IAAIA,gBAAkB,WACrBN,MAAMS,IAAId,MACTS,KAAK,SAAUC,GACbR,aAAeQ,EAASE,KAAKA,KAAKC,MAClCjB,aAAamB,UAAYb,aACzBc,eAEFC,MAAM,SAAUC,GAChB5B,QAAQ6B,KAAK,8BAA+BD,KAE7Cb,MAAMS,IAAIb,MACTQ,KAAK,SAAUC,GACbP,aAAeO,EAASE,KAAKA,KAAKC,MAClChB,aAAakB,UAAYZ,aACzBa,eAEFC,MAAM,SAAUC,GAChB5B,QAAQ6B,KAAK,8BAA+BD,MAI9CE,YAAYT,gBAAiB,KAG7Bb,UAAUM,iBAAiB,QAAS,WACnCC,MAAMC,KAAKN,MACVO,KAAK,SACLC,OAAO,IACPK,MAAM,IAENJ,KAAK,SAAAC,GACLC,oBAEAN,MAAMC,KAAKL,MACXM,KAAK,SACLC,OAAO,IACPK,MAAM,IAENJ,KAAK,SAAAC,GACLC,sBAIFU,OAAOjB,iBAAiB,QAAS,WACb,SAAfkB,MAAMC,OACTlB,MAAMC,KAAKN,MACXO,KAAK,SACLC,OAAO,IACPK,MAAM,IAENJ,KAAK,SAAAC,GACLC,oBAEAN,MAAMC,KAAKL,MACXM,KAAK,SACLC,OAAO,IACPK,MAAM,IAENJ,KAAK,SAAAC,GACLC,uBAKF,IAAIK,WAAa,WAChBjB,YAAYyB,MAAMC,MAAQvB,cAAeC,aAAaD,cAAe,IAAK,IACtEA,eAAiBC,eACpBJ,YAAYyB,MAAMC,MAAQ,QAGxBC,aAAejC,SAASkC,iBAAiB,6BAEzCC,UAAY,SAASC,GACxB,IAAIC,EAAUrC,SAASC,cAAc,WACrCoC,EAAQC,UAAUC,OAAO,UACzBF,EAAQC,UAAUE,IAAI,WACtBC,WAAW,WACVJ,EAAQC,UAAUC,OAAO,YACxB,KAEF,IAAIG,EAAU1C,SAASC,cAAc,IAAMmC,GAC3CK,WAAW,WACVC,EAAQJ,UAAUE,IAAI,aACrB,KACFC,WAAW,WACVC,EAAQJ,UAAUC,OAAO,YACzBG,EAAQJ,UAAUE,IAAI,WACrB,MAIHP,aAAaU,QAAQ,SAASC,GAC7BA,EAAOjC,iBAAiB,QAAS,WAChC,IAAIyB,EAAKS,KAAKC,aAAa,2BAC3BX,UAAWC,OAIb,IAAIW,aAAe/C,SAASkC,iBAAiB,6BAEzCc,UAAY,SAASZ,GACxB,IAAIC,EAAUrC,SAASC,cAAc,iBACrCoC,EAAQC,UAAUC,OAAO,UACzBF,EAAQC,UAAUE,IAAI,WACtBC,WAAW,WACVJ,EAAQC,UAAUC,OAAO,YACxB,KAEF,IAAIG,EAAU1C,SAASC,cAAc,IAAMmC,GAC3CK,WAAW,WACVC,EAAQJ,UAAUE,IAAI,aACrB,KACFC,WAAW,WACVC,EAAQJ,UAAUC,OAAO,YACzBG,EAAQJ,UAAUE,IAAI,WACrB,MAIHO,aAAaJ,QAAQ,SAASC,GAC7BA,EAAOjC,iBAAiB,QAAS,WAChC,IAAIyB,EAAKS,KAAKC,aAAa,2BAC3BE,UAAWZ","sourcesContent":["console.log(`Hello World from main.js! \nChange this message, and make sure it changes in the browser \nto verify optionB you're working in the right files.`)\n\nlet optionA = document.querySelector('.containerA')\nlet optionB = document.querySelector('.containerB')\nlet optionACount = document.querySelector('.optionACount')\nlet optionBCount = document.querySelector('.optionBCount')\nlet resetBttn = document.querySelector('.reset')\nlet voteBalance = document.querySelector('.prog')\nlet urlA = 'http://circuslabs.net:3000/data/optionA'\nlet urlB = 'http://circuslabs.net:3000/data/optionB'\n\nlet curentACount = 0\nlet curentBCount = 0\n\n\n\noptionA.addEventListener('click', function() {\n\taxios.post(urlA, {\n\t  type: 'number',\n\t  action: '++'\n\t})\n\t.then(response => {\n\t\tupdateVoteCount()\n\t\tconsole.log(response.data.data.value)\n\t\tconsole.log(response)\n\t})\n\t// optionA.classList.add('bounce')\n\t// setTimeout(function(){\n\t// \toptionA.classList.remove('bounce')\n\t// },2000)\n})\n\n\n\noptionB.addEventListener('click', function() {\n\taxios.post(urlB, {\n\t  type: 'number',\n\t  action: '++'\n\t})\n\t.then(response => {\n\t\tupdateVoteCount()\n\t})\n\t// optionB.classList.add('bounce')\n\t// setTimeout(function(){\n\t// \toptionB.classList.remove('bounce')\n\t// },2000)\n})\n\n\n\nlet updateVoteCount = function() {\n\taxios.get(urlA)\n\t.then(function (response) {\n\t  \tcurentACount = response.data.data.value\n\t  \toptionACount.innerText = curentACount\n\t  \tupdateBars()\n\t})\n\t.catch(function (error) {\n\t\tconsole.warn('axios encountered an error!', error);\n\t}); \n\taxios.get(urlB)\n\t.then(function (response) {\n\t  \tcurentBCount = response.data.data.value\n\t  \toptionBCount.innerText = curentBCount\n\t  \tupdateBars()\n\t})\n\t.catch(function (error) {\n\t\tconsole.warn('axios encountered an error!', error);\n\t});\n}\n\nsetInterval(updateVoteCount, 1000)\n\n\nresetBttn.addEventListener('click', function(){\n\taxios.post(urlA, {\n\t\ttype:'number',\n\t\taction:'=',\n\t\tvalue:0\n\t})\n\t.then(response => {\n\t\tupdateVoteCount()\n\t})\n\t\taxios.post(urlB, {\n\t\ttype:'number',\n\t\taction:'=',\n\t\tvalue:0\n\t})\n\t.then(response => {\n\t\tupdateVoteCount()\n\t})\n})\n\nwindow.addEventListener('keyup', function(){\n\tif (event.code === \"KeyR\"){\n\t\taxios.post(urlA, {\n\t\ttype:'number',\n\t\taction:'=',\n\t\tvalue:0\n\t})\n\t.then(response => {\n\t\tupdateVoteCount()\n\t})\n\t\taxios.post(urlB, {\n\t\ttype:'number',\n\t\taction:'=',\n\t\tvalue:0\n\t})\n\t.then(response => {\n\t\tupdateVoteCount()\n\t})\t\n\t}\n})\n\nlet updateBars = function(){\n\tvoteBalance.style.width = curentACount/ (curentBCount+curentACount) *100 +'%'\n\tif (curentACount === curentBCount){\n\t\tvoteBalance.style.width = '50%'\n\t}\n}\nlet optionAHover = document.querySelectorAll('[on-hoverA-switch-img-to]')\n\nlet goToPageA = function(id){\n\tlet oldPage = document.querySelector('.active')\n\toldPage.classList.remove('active')\n\toldPage.classList.add('leaving')\n\tsetTimeout(function(){\n\t\toldPage.classList.remove('leaving')\n\t},500)\n\n\tlet newPage = document.querySelector('#' + id)\n\tsetTimeout(function(){\n\t\tnewPage.classList.add('entering')\n\t},250)\n\tsetTimeout(function(){\n\t\tnewPage.classList.remove('entering')\n\t\tnewPage.classList.add('active')\n\t},750)\n\t\n}\n\noptionAHover.forEach(function(button){\n\tbutton.addEventListener('click', function(){\n\t\tlet id = this.getAttribute('on-hoverA-switch-img-to')\n\t\tgoToPageA( id )\n\t})\n})\n\nlet optionBHover = document.querySelectorAll('[on-hoverB-switch-img-to]')\n\nlet goToPageB = function(id){\n\tlet oldPage = document.querySelector('.pageB.active')\n\toldPage.classList.remove('active')\n\toldPage.classList.add('leaving')\n\tsetTimeout(function(){\n\t\toldPage.classList.remove('leaving')\n\t},500)\n\n\tlet newPage = document.querySelector('#' + id)\n\tsetTimeout(function(){\n\t\tnewPage.classList.add('entering')\n\t},250)\n\tsetTimeout(function(){\n\t\tnewPage.classList.remove('entering')\n\t\tnewPage.classList.add('active')\n\t},750)\n\t\n}\n\noptionBHover.forEach(function(button){\n\tbutton.addEventListener('click', function(){\n\t\tlet id = this.getAttribute('on-hoverB-switch-img-to')\n\t\tgoToPageB( id )\n\t})\n})\n\n\n\n\n\n\n\n\n\n\n"]}